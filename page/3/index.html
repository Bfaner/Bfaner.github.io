<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>BFaner - Because we can</title><meta name="author" content="帆小生,1257291642@qq.com"><meta name="copyright" content="帆小生"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Because we can"><link rel="shortcut icon" href="/img/%E5%A4%B4%E5%83%8F.jpg"><link rel="canonical" href="https://bfaner.github.io/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"这篇文章已经","messageNext":"天没更新了，内容有可能已经过时。"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'BFaner',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-05-14 10:20:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script async src="/css/categoryBar.js"></script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<link rel="stylesheet" href="/css/double-row.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/weibo/"><i class="fa-fw fas fa-comments"></i><span> 微博</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">BFaner</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/weibo/"><i class="fa-fw fas fa-comments"></i><span> 微博</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div id="category-bar"><div class="category-bar-items" id="category-bar-items"><div class="category-bar-item" id="首页"><a href="/">首页</a></div><div class="category-bar-item" id="博客相关"><a href="/categories/博客相关/">博客相关</a></div><div class="category-bar-item" id="编程语言"><a href="/categories/编程语言/">编程语言</a></div><div class="category-bar-item" id="航空航天"><a href="/categories/航空航天/">航空航天</a></div><div class="category-bar-item" id="全部分类"> <a href="/categories/">全部分类</a></div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/c074.html" title="simulink模型加密"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="simulink模型加密"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/c074.html" title="simulink模型加密">simulink模型加密</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-23T12:43:29.000Z" title="发表于 2021-08-23 20:43:29">2021-08-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/%E9%A3%9E%E8%A1%8C%E4%BB%BF%E7%9C%9F/">飞行仿真</a></span></div><div class="content">

建立完整的simulink模型，设置为定步长


对需要保护的部分，建立子系统Subsystem，并将子系统中设置为atomic unit



设置变量，在explore中，选择Model Workspace，建立模型所需要的变量，并设置初始值



转化为Referenced Model，经过检查后，在目录中生成一个模型system_block.slx




打开子模型system_block.slx，在选项卡中只选择Simulate，点击create，生成一个system_block.slxp



回到原系统中，右键选择Block Parameters，将模型选择为system_block.slxp加密模型
在Instance Parameters中可以修改模型使用的参数

|  |  || —————————————————————————————— | —————————————————————————————— |



使用时，仅拷贝主模型与加密后的子模型slxp即可

调用子模型使用model命令



</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/e424.html" title="扩展卡尔曼滤波"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="扩展卡尔曼滤波"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/e424.html" title="扩展卡尔曼滤波">扩展卡尔曼滤波</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-27T01:47:12.000Z" title="发表于 2021-07-27 09:47:12">2021-07-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/PX4%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">PX4学习笔记</a></span></div><div class="content">流程位置估计、姿态估计由扩展卡尔曼滤波器完成，扩展卡尔曼滤波将非线性的系统模型线性化，在工作点附近进行一阶线性化，忽略其高阶项导数。
系统状态的预测方程：

\begin{gathered}
\hat{x}_k^{-}=f\left(x_{k-1}\right)+w_{k-1} \newline
P_k^{-}=F P_{k-1} F^T+Q
\end{gathered}式中，第一个方程为状态的推算，第二个方程为方差的推算。$x_{k-1}$为上一时刻的状态值，其协方差为$P_{k-1}$；$\hat{x}_k^{-}$为当前时刻的预测值，推算的协方差为$P_k^{-}$；$f(x)$为非线性状态随时间的推算模型，其在$x_{k-1}$处的一阶偏导数为F；$w_{k-1}$为预测过程的噪声，其期望为0，协方差为Q。
测量值的推算方程：

z_k=h\left(\hat{x}_k\right) \approx h\left(\hat{x}_k^{-}\right)+H *\left(x_k-\hat{x}_k^{-}\right)+v_k其中，$z_k$为当前时刻的观测量；$h(x)$为 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/8ed0.html" title="旋翼位置控制"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="旋翼位置控制"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/8ed0.html" title="旋翼位置控制">旋翼位置控制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-22T01:03:25.000Z" title="发表于 2021-05-22 09:03:25">2021-05-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/PX4%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">PX4学习笔记</a></span></div><div class="content">位置控制123V_(x_sp)=K_px (x−x_sp);//【限幅:V_(x_sp_last),Vmax】V_(y_sp)=K_py (y−y_sp);//【限幅:V_(y_sp_last),Vmax】V_(z_sp)=K_zy (z−z_sp )+V_(z_sp_last);// 【限幅:-speeddown,speedup】
速度控制12345err=V_sp−V;// D向：T=PID(err)-T_hover;//【T_hover向下】// NE向：NE=PID(err);
123456789101112// D向(升力方向)T=PID(err);T_desired = Kp*vel_err(2) + I + Kd*acc(2) - T_hover;//【T_hover悬停油门，向下】thr_sp(2)=T_desired;//其中积分I=I+Ki*vel_err(2)*dt，并限幅，在|T_desired|&gt;|uMax|时停止积分// NE向NE_desired(0,1)=Kp*vel_err(0,1) + I(0:1) + Kd*acc(0:1);thr_sp(0 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/46d8.html" title="模态分析与飞行品质"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="模态分析与飞行品质"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/46d8.html" title="模态分析与飞行品质">模态分析与飞行品质</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-17T00:05:54.000Z" title="发表于 2021-05-17 08:05:54">2021-05-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/%E9%A3%9E%E8%A1%8C%E5%8A%9B%E5%AD%A6/">飞行力学</a></span></div><div class="content">模态分析纵向
\left\{\begin{array}{c}
\frac{d \Delta U}{d t}=X_u \Delta u+X_\alpha \Delta \alpha+X_{\delta e} \Delta \delta e+X_{\delta p} \Delta \delta p-g \cos \gamma_0 \Delta \theta \newline
\frac{d \Delta \alpha}{d t}=-Z_u \Delta u-Z_\alpha \Delta \alpha+\Delta q+Z_{\delta e} \Delta \delta e+Z_{\delta p} \Delta \delta p-\frac{g \sin \gamma_0}{U_0} \Delta \theta \newline
\frac{d \Delta q}{d t}=M_u \Delta u+M_\alpha \Delta \alpha+M_{\dot{\alpha}} \Delta \dot{\alpha}+M_q \Delta q+M_{\delta e} \Delta \ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/aa9e.html" title="空投比赛相关"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="空投比赛相关"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/aa9e.html" title="空投比赛相关">空投比赛相关</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-17T00:05:54.000Z" title="发表于 2021-05-17 08:05:54">2021-05-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/%E7%A9%BA%E6%8A%95%E6%97%A0%E4%BA%BA%E6%9C%BA/">空投无人机</a></span></div><div class="content">空投无人机的投放控制策略该型无人机在投放到改出为巡航状态的过程中，俯仰角从-90°变化到0°，速度从0加到巡航速度，飞行状态发生了很大的改变。如果仅仅使用常规的控制律对整个过程进行控制，无人机很容易进入失速状态而无法完成飞行任务。
针对该过程设计一种特殊的投放控制策略，该策略耦合速度与无人机的姿态角控制，保证无人机可以尽快加速到巡航速度的同时，安全地将姿态角改出为平飞状态。具体过程如下，无人机通过速度反馈，在速度很低时输出俯仰角目标值为-90°以及大油门；随着速度增加，逐渐俯仰角的目标值并减小油门；到达巡航速度附近后俯仰角目标值为0°，并通过自动油门控制无人机速度。无人机既不会因拉起速度过快而失速，也不会因拉起速度过慢而超出无人机的极限速度边界。
缩比0.5空投机单机性能参数【涵道】翼展：1.4m
机长：1.087m
机翼面积：0.245m²
飞机重量：3.86kg-一块电池电池0.7kg-19.82m/s
5.26kg-三块电池-23.13m/s
动力：(12叶70mm涵道+2827 KV2300电机)*2，单台最大拉力12N
能源：5.3Ah_6S1P—110Wh,25C,0.7k ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/bfe8.html" title="旋翼姿态控制"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="旋翼姿态控制"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/bfe8.html" title="旋翼姿态控制">旋翼姿态控制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-12T14:05:11.000Z" title="发表于 2021-05-12 22:05:11">2021-05-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/PX4%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">PX4学习笔记</a></span></div><div class="content">四元数控制方案
姿态角、目标姿态角转为四元数$q_b$、$q_t$

体轴系到目标轴系，四元数的误差为$q _ { b } ^ { t } = \left( q _ { i } ^ { b } \right) ^ { - 1 } \cdot q _ { i }^t$
此误差也可表示为：

\vec{q}_{e d}=\left[\begin{array}{c}
\cos \frac{\alpha}{2} \newline
\sin \frac{\alpha}{2} \vec{r}
\end{array}\right]即期望机体轴系绕机体轴系的旋转轴r旋转α角度

将旋转轴的α倍作为角度误差进行控制律计算，当α较小时，2sin(α/2)=α
则，目标的姿态角

\vec{\omega}_{d}=\left[\begin{array}{ccc}
k_{1} & 0 & 0 \newline
0 & k_{2} & 0 \newline
0 & 0 & k_{3}
\end{array}\right] \cdot \alpha \vec{r}=\left[\begin{array}{ccc} ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/598d.html" title="飞机动力模拟计算"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="飞机动力模拟计算"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/598d.html" title="飞机动力模拟计算">飞机动力模拟计算</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-07T02:08:59.000Z" title="发表于 2021-05-07 10:08:59">2021-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/%E9%A3%9E%E8%A1%8C%E5%8A%9B%E5%AD%A6/">飞行力学</a></span></div><div class="content">鸟机【1055】【4.8】第一轮①油门值、电压-转速
ns = U*(-0.0373*dp² + 11.8*dp - 93.222)
dp：油门值（百分值）    U：电压（伏特）    ns：转速（rpm）
②前进比：桨前进速度与桨尖速度比值
J=V/ns*D
V：空速    ns：转速（RPM*2PI/60）rad/s    D：螺旋桨直径（米）
③J-CT
CT= -0.0623*J² - 0.004*J + 0.0028
T = CT*rho*ns²*D^4
rho：kg/m³    ns：rad/s    D:m
④J-CP
CP = -0.0471*J² + 0.006*J - 2E-05     【y = -0.3339x3 + 0.0864x2 - 0.0052x + 0.0002】
P = CP*rho*ns³*D^5
rho：kg/m³    ns：rad/s    D:m
⑤J-桨效率
y1 = -66.302*J² + 17.947*J - 0.0759
⑥RPM-电机效率
y2 = -2E-08*RPM² + 0.0003*RPM - 0.4484
⑦总功率： ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/2f81.html" title="主控制回路"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="主控制回路"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/2f81.html" title="主控制回路">主控制回路</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-28T14:45:27.000Z" title="发表于 2021-04-28 22:45:27">2021-04-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/Minifly/">Minifly</a></span></div><div class="content">
  9d756be0178c53310e9b6f3d3f046a553cc49feac1b986d386384317117b31453af21e463f1dd4090b707ef1d2c3160b73eb5a550adb1beeb0b699df1ad0a55e7ca840530e02f16a34926406dcad6751765c81eb9a7f4f6033ab9b0924dc4614dcec74257f73171a80c9b1489875400e217176c6612c23d135e508552904f09968b5274b3d634bbe72910e0046ee1300997e365719ddbf2e4607755f01c4a5a834e21a33d54a0e4943fec0abac2ec4a7830221cf7f5bc0db08f3ec29f987c3c337a560ab6c50dac0028906b9b4c93e7f6b7ef941f38616a5c4d689292a0b2eab1782cc43b1affd6d2ba21057b7ed98203988d3b38c2ecae3b ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/f48b.html" title="气动估算软件"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="气动估算软件"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/f48b.html" title="气动估算软件">气动估算软件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T07:58:37.000Z" title="发表于 2021-04-11 15:58:37">2021-04-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/%E9%A3%9E%E8%A1%8C%E5%8A%9B%E5%AD%A6/">飞行力学</a></span></div><div class="content">AVLAVL 3.30 User Primer last update 18 Aug 10
Mark Drela, MIT Aero &amp; Astro
Harold Youngren, Aerocraft, Inc.
History=======
AVL (Athena Vortex Lattice) 1.0 was originally written by Harold Youngren
circa 1988 for the MIT Athena TODOR aero software collection. The code was
based on classic work by Lamar (NASA codes), E. Lan and L. Miranda (VORLAX)
and a host of other investigators. Numerous modifications have since been
added by Mark Drela and Harold Youngren, to the point where only stubborn
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/c408.html" title="固定翼位置控制"><img class="post_bg" src="/img/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="固定翼位置控制"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/c408.html" title="固定翼位置控制">固定翼位置控制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-03T15:17:57.000Z" title="发表于 2021-04-03 23:17:57">2021-04-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/">航空航天</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/PX4%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">PX4学习笔记</a></span></div><div class="content">纵向—TECS总能量飞机的总能量：$\mathrm{E}=m g h+\frac{1}{2} m V^2$
两边同时除以质量m：$E_s=g h+\frac{1}{2} V^2$
求导：$\dot{E}_s=g \dot{h}+V \dot{V}=g V_z+V \dot{V}$
TECS表达式：

\left\{\begin{array}{l}
E_s=g h+\frac{1}{2} V^2 \newline
\dot{E}_s=g \dot{h}+V \dot{V}
\end{array}\right.物理量的来源高度h和高度变化率$\dot h$：

实际值：气压高度和EKF的Z轴速度，如果没有z轴惯导，使用三阶互补滤波对h、Vz进行估计目标值：

1.高度目标：输入值，用最大爬升/下滑速率限幅，一阶滤波处理2.高度变化率目标：(目标高度-气压高)K1+(当前目标高度-上一刻目标高度)/dtK2


速度V和速度变化率$\dot V$：

实际值：

1.速度：二阶互补滤波得到2.速度变化率：speed_deriv = sinθ*g + accel_x

目标值：

1.速度目标 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">帆小生</div><div class="author-info__description">Because we can</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Bfaner"><i class="fab fa-github"></i><span>联系我</span></a></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"><span class="card-category-list-name">博客相关</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"><span class="card-category-list-name">编程语言</span><span class="card-category-list-count">10</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E4%B8%8EC/"><span class="card-category-list-name">C与C++</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/python/"><span class="card-category-list-name">python</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%B7%A5%E5%85%B7/"><span class="card-category-list-name">工具</span><span class="card-category-list-count">3</span></a></li></ul></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/"><span class="card-category-list-name">航空航天</span><span class="card-category-list-count">30</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/Minifly/"><span class="card-category-list-name">Minifly</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9/PX4%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">PX4学习笔记</span><span class="card-category-list-count">10</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/hexo/" style="font-size: 1.25em; color: rgb(124, 125, 131)">hexo</a><a href="/tags/butterfly/" style="font-size: 1.25em; color: rgb(54, 109, 98)">butterfly</a><a href="/tags/git/" style="font-size: 1.35em; color: rgb(7, 70, 33)">git</a><a href="/tags/s2/" style="font-size: 1.25em; color: rgb(67, 184, 12)">s2</a><a href="/tags/linux/" style="font-size: 1.15em; color: rgb(31, 85, 97)">linux</a><a href="/tags/PX4/" style="font-size: 1.45em; color: rgb(42, 186, 125)">PX4</a><a href="/tags/s1/" style="font-size: 1.45em; color: rgb(135, 200, 93)">s1</a><a href="/tags/%E4%BB%BF%E7%9C%9F/" style="font-size: 1.15em; color: rgb(3, 71, 6)">仿真</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">43</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-10-15T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-05-14T02:20:25.442Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By 帆小生</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>